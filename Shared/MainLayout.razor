@inherits LayoutComponentBase
@implements IDisposable

@inject SavEdit SE
@inject PkmEdit PE
@inject ISnackbar Snackbar
@inject IDialogService DialogService
@inject IJSRuntime JS

<MudThemeProvider Theme="MyCustomTheme" />
<MudDialogProvider />
<MudSnackbarProvider />

<InputFile id="fileInput" OnChange="UploadSave" hidden />

<MudLayout>
    <MudAppBar Elevation="1" Dense>
        <MudText Typo="Typo.h5" Class="ml-3">PKHeX.Web</MudText>

        <MudMenu Label="File" Dense="true" Color="Color.Inherit" AnchorOrigin="Origin.BottomCenter" Class="ml-16">
            <MudMenuItem OnClick="PromptFile">
                Open file
            </MudMenuItem>
            <MudMenuItem OnClick="ExportSAV">
                Export SAV
            </MudMenuItem>
            <MudMenuItem OnClick="ExportPKM">
                Export PKM
            </MudMenuItem>
        </MudMenu>

        <MudSpacer />

        <MudText Typo="Typo.h6">@SE.SAV.Metadata.BAKName.Replace(".bak", "")</MudText>

        <MudSpacer />

        <MudMenu Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit" AnchorOrigin="Origin.BottomCenter">
            <MudMenuItem OnClick="OpenSettings">
                Settings
            </MudMenuItem>
            <MudMenuItem OnClick="OpenAbout">
                About
            </MudMenuItem>
        </MudMenu>
    </MudAppBar>
    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>
